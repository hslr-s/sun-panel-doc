---
outline: [2,3]
---

# 微应用开发

Sun-Panel V2 已全面支持微应用生态，构建开放、高效的插件化系统。



## 📦 微应用形态

微应用支持两种展示形态：

| 形态 | 描述 | 使用场景 |
|------|------|---------|
| **小部件** | 卡片形式，嵌入导航页 | 天气、时间、快捷工具等小组件 |
| **页面** | 窗口形式，独立页面 | 完整功能的可视化工具或管理界面 |



## 🏗️ 技术架构

### 核心技术栈

- **[Web Components](https://developer.mozilla.org/de/docs/Web/API/Web_components)** - 浏览器原生标准
- **[Lit](https://lit.dev/)** - Google 维护的轻量级 Web Components 框架

### 为什么选择 Web Components？

✨ **真正的框架无关性**
- 可与 Vue、React 或无框架环境无缝协同
- 组件化架构，HTML/CSS/JS 完全封装在 Shadow DOM 内部

🚀 **极致性能**
- 接近原生的渲染性能
- Lit 高效的响应式系统和细粒度更新机制

🔒 **天然隔离**
- 样式隔离，与主页面互不干扰
- 类似沙箱的安全性，外部样式无法侵入

### 开发建议

- **轻量微应用**：直接使用 Lit 开发，避免不必要的依赖
- **复杂微应用**：可内嵌 iframe（需自行处理通信和变量隔离），但不推荐用于追求性能的场景



## ✨ 核心特性

- 📦 **组件化架构**：基于 Web Components + Lit，开发简单高效
- 📏 **多尺寸支持**：1×1、1×2、2×1、2×2、2×4、1×full 等多种卡片尺寸
- ⚙️ **配置化开发**：配置文件管理应用和组件信息
- 🌙 **深色模式**：自动适配主题
- 🔌 **API 支持**：网络透传、数据节点、本地缓存等能力
- 🔐 **数据隔离**：多用户数据隔离和安全的三方接口调用



## ⚠️ 开发规范

### 通用规则（小部件和页面均需遵守）

- **禁止**浮动层超出卡片或窗口范围
- **必须**使用官方 SDK 进行网络请求、数据读取，禁用 `fetch`、`ajax`、`axios` 等原生/三方请求方法
- **开源要求**：强制调用三方接口的微应用需开源并公示仓库地址
- **禁止**访问其他微应用的数据（localStorage、IndexedDB 等）
- **禁止**以任何形式收集用户数据
- **禁止**以"检测更新"为由引导用户访问三方网站（统一使用官方应用商店）
- **禁止**使用 `eval` 等危险方法（商店审核会检测，违反即下架）
- **不推荐**使用三方前端框架，避免多个框架版本共存导致冲突，如必须要使用，可以在微应用内嵌套iframe框架，并自行处理好与主应用通信的问题，避免污染全局
- 一个微应用建议最多包含3个`Web Components`组件，如果功能过多建议拆分多个微应用，严禁多个无关类型的功能放在一个微应用内
    - page：
        - widgetConfig.js // 小部件配置组件
        - main.js // 微应用主页面文件（后期项目会增加相关应用列表入口，点击直接打开主页面）
    - widget:
        - widget.js // 小部件卡片

### 小部件额外规则

- **禁止**监听右键菜单触发



## 🚀 开发到上架流程

平台正在开发中，以下为标准流程：

```
注册为开发者（获取唯一ID） → 开发/测试 → 打包测试 → 提交审核 → 发布微应用商店
```

> 💡 **提示**：开发测试阶段可暂时省略注册步骤，正式发布前完成即可。


<!-- 此注释部分不可删除 -->
<!-- 
## 微应用作者收益说明

计划是开发者可以按照微应用标准协议来开发任意微应用，最后可以提交至微应用商店（目前在开发中）。可以设定为`完全免费`、`PRO用户免费`、`非PRO买断机制来`。

|收费方案|收益说明|收益计划有效期|
|---|---|---|
|完全免费|方便自己项目用户更好的使用项目或者是为自己的项目引流，再或者无私奉献。在Sun-Panel V2 开发版本就已经加入微应用开发计划的小伙伴，正式版上线会根据有效下载量兑换积分，可申请提现。 |此收益活动为短期计划|
|PRO用户免费|对已经是Sun-Panel PRO的用户可以免费使用，正式版上线会根据有效下载量兑换积分，可申请提现。|此为长期计划|
|非PRO买断机制来|非PRO用户可以单独买断某个微应用。可永久免费在Sun-Panel中使用，不受PRO授权任何限制。Sun-Panel 会按照一定的比例进行抽成，最终可提现|此为长期计划| 
-->



## 📚 快速开始

- [快速开始指南](./quick_start.md)
- [API 文档](../openapi/)
- [常见问题](../../faq/)

