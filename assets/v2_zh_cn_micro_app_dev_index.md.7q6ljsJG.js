import{_ as t,c as e,o as a,a6 as l}from"./chunks/framework.Dk6vZ2f8.js";const b=JSON.parse('{"title":"微应用开发","description":"","frontmatter":{"outline":[2,3]},"headers":[],"relativePath":"v2/zh_cn/micro_app_dev/index.md","filePath":"v2/zh_cn/micro_app_dev/index.md","lastUpdated":1770985991000}'),o={name:"v2/zh_cn/micro_app_dev/index.md"},r=l('<h1 id="微应用开发" tabindex="-1">微应用开发 <a class="header-anchor" href="#微应用开发" aria-label="Permalink to &quot;微应用开发&quot;">​</a></h1><p>Sun-Panel V2 已全面支持微应用生态，构建开放、高效的插件化系统。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>文档还在不断完善，如果您参与开发，请添加作者微信（95302870），作者拉你进开发者群，方便有问题随时沟通。</p></div><h2 id="📦-微应用形态" tabindex="-1">📦 微应用形态 <a class="header-anchor" href="#📦-微应用形态" aria-label="Permalink to &quot;📦 微应用形态&quot;">​</a></h2><p>微应用支持两种展示形态：</p><table tabindex="0"><thead><tr><th>形态</th><th>描述</th><th>使用场景</th></tr></thead><tbody><tr><td><strong>小部件</strong></td><td>卡片形式，嵌入导航页</td><td>天气、时间、快捷工具等小组件</td></tr><tr><td><strong>页面</strong></td><td>窗口形式，独立页面</td><td>完整功能的可视化工具或管理界面</td></tr></tbody></table><h2 id="🏗️-技术架构" tabindex="-1">🏗️ 技术架构 <a class="header-anchor" href="#🏗️-技术架构" aria-label="Permalink to &quot;🏗️ 技术架构&quot;">​</a></h2><h3 id="核心技术栈" tabindex="-1">核心技术栈 <a class="header-anchor" href="#核心技术栈" aria-label="Permalink to &quot;核心技术栈&quot;">​</a></h3><ul><li><strong><a href="https://developer.mozilla.org/de/docs/Web/API/Web_components" target="_blank" rel="noreferrer">Web Components</a></strong> - 浏览器原生标准</li><li><strong><a href="https://lit.dev/" target="_blank" rel="noreferrer">Lit</a></strong> - Google 维护的轻量级 Web Components 框架</li></ul><h3 id="为什么选择-web-components" tabindex="-1">为什么选择 Web Components？ <a class="header-anchor" href="#为什么选择-web-components" aria-label="Permalink to &quot;为什么选择 Web Components？&quot;">​</a></h3><p>✨ <strong>真正的框架无关性</strong></p><ul><li>可与 Vue、React 或无框架环境无缝协同</li><li>组件化架构，HTML/CSS/JS 完全封装在 Shadow DOM 内部</li></ul><p>🚀 <strong>极致性能</strong></p><ul><li>接近原生的渲染性能</li><li>Lit 高效的响应式系统和细粒度更新机制</li></ul><p>🔒 <strong>天然隔离</strong></p><ul><li>样式隔离，与主页面互不干扰</li><li>类似沙箱的安全性，外部样式无法侵入</li></ul><h3 id="开发建议" tabindex="-1">开发建议 <a class="header-anchor" href="#开发建议" aria-label="Permalink to &quot;开发建议&quot;">​</a></h3><ul><li><strong>轻量微应用</strong>：直接使用 Lit 开发，避免不必要的依赖</li><li><strong>复杂微应用</strong>：可内嵌 iframe（需自行处理通信和变量隔离），但不推荐用于追求性能的场景</li></ul><h2 id="✨-核心特性" tabindex="-1">✨ 核心特性 <a class="header-anchor" href="#✨-核心特性" aria-label="Permalink to &quot;✨ 核心特性&quot;">​</a></h2><ul><li>📦 <strong>组件化架构</strong>：基于 Web Components + Lit，开发简单高效</li><li>📏 <strong>多尺寸支持</strong>：1×1、1×2、2×1、2×2、2×4、1×full 等多种卡片尺寸</li><li>⚙️ <strong>配置化开发</strong>：配置文件管理应用和组件信息</li><li>🌙 <strong>深色模式</strong>：自动适配主题</li><li>🔌 <strong>API 支持</strong>：网络透传、数据节点、本地缓存等能力</li><li>🔐 <strong>数据隔离</strong>：多用户数据隔离和安全的三方接口调用</li></ul><h2 id="⚠️-开发规范" tabindex="-1">⚠️ 开发规范 <a class="header-anchor" href="#⚠️-开发规范" aria-label="Permalink to &quot;⚠️ 开发规范&quot;">​</a></h2><h3 id="通用规则-小部件和页面均需遵守" tabindex="-1">通用规则（小部件和页面均需遵守） <a class="header-anchor" href="#通用规则-小部件和页面均需遵守" aria-label="Permalink to &quot;通用规则（小部件和页面均需遵守）&quot;">​</a></h3><ul><li><strong>禁止</strong>浮动层超出卡片或窗口范围</li><li><strong>必须</strong>使用官方 SDK 进行网络请求、数据读取，禁用 <code>fetch</code>、<code>ajax</code>、<code>axios</code> 等原生/三方请求方法</li><li><strong>开源要求</strong>：强制调用三方接口的微应用需开源并公示仓库地址</li><li><strong>禁止</strong>访问其他微应用的数据（localStorage、IndexedDB 等）</li><li><strong>禁止</strong>以任何形式收集用户数据</li><li><strong>禁止</strong>以&quot;检测更新&quot;为由引导用户访问三方网站（统一使用官方应用商店）</li><li><strong>禁止</strong>使用 <code>eval</code> 等危险方法（商店审核会检测，违反即下架）</li><li><strong>不推荐</strong>使用三方前端框架，避免多个框架版本共存导致冲突，如必须要使用，可以在微应用内嵌套iframe框架，并自行处理好与主应用通信的问题，避免污染全局</li><li>一个微应用建议最多包含3个<code>Web Components</code>组件，如果功能过多建议拆分多个微应用，严禁多个无关类型的功能放在一个微应用内 <ul><li>page： <ul><li>widgetConfig.js // 小部件配置组件</li><li>main.js // 微应用主页面文件（后期项目会增加相关应用列表入口，点击直接打开主页面）</li></ul></li><li>widget: <ul><li>widget.js // 小部件卡片</li></ul></li></ul></li></ul><h3 id="小部件额外规则" tabindex="-1">小部件额外规则 <a class="header-anchor" href="#小部件额外规则" aria-label="Permalink to &quot;小部件额外规则&quot;">​</a></h3><ul><li><strong>禁止</strong>监听右键菜单触发</li></ul><h2 id="🚀-开发到上架流程" tabindex="-1">🚀 开发到上架流程 <a class="header-anchor" href="#🚀-开发到上架流程" aria-label="Permalink to &quot;🚀 开发到上架流程&quot;">​</a></h2><p>平台正在开发中，以下为标准流程：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>注册为开发者（获取唯一ID） → 开发/测试 → 打包测试 → 提交审核 → 发布微应用商店</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>💡 <strong>提示</strong>：开发测试阶段可暂时省略注册步骤，正式发布前完成即可。</p></blockquote><h2 id="微应用作者收益说明" tabindex="-1">微应用作者收益说明 <a class="header-anchor" href="#微应用作者收益说明" aria-label="Permalink to &quot;微应用作者收益说明&quot;">​</a></h2><p>计划是开发者可以按照微应用标准协议来开发任意微应用，最后可以提交至微应用商店（目前在开发中）。可以设定为<code>完全免费</code>、<code>PRO用户免费</code>、<code>非PRO买断机制来</code>。目前暂定计划，可以加群讨论</p><table tabindex="0"><thead><tr><th>收费方案</th><th>收益说明</th><th>收益计划有效期</th></tr></thead><tbody><tr><td>完全免费</td><td>方便自己项目用户更好的使用项目或者是为自己的项目引流，再或者无私奉献。在Sun-Panel V2 开发版本就已经加入微应用开发计划的小伙伴，正式版上线会根据有效下载量兑换积分，可申请提现。</td><td>此收益活动为短期计划</td></tr><tr><td>PRO用户免费</td><td>对已经是Sun-Panel PRO的用户可以免费使用，正式版上线会根据有效下载量兑换积分，可申请提现。</td><td>此为长期计划</td></tr><tr><td>非PRO买断机制来</td><td>非PRO用户可以单独买断某个微应用。可永久免费在Sun-Panel中使用，不受PRO授权任何限制。Sun-Panel 会按照一定的比例进行抽成，最终可提现</td><td>此为长期计划</td></tr></tbody></table><h2 id="📚-快速开始" tabindex="-1">📚 快速开始 <a class="header-anchor" href="#📚-快速开始" aria-label="Permalink to &quot;📚 快速开始&quot;">​</a></h2><ul><li><a href="./quick_start.html">快速开始指南</a></li><li><a href="./api.html">API 文档</a></li></ul>',34),i=[r];function n(s,d,h,c,u,p){return a(),e("div",null,i)}const m=t(o,[["render",n]]);export{b as __pageData,m as default};
