import{_ as s,c as a,o as n,a6 as i}from"./chunks/framework.Dk6vZ2f8.js";const b=JSON.parse('{"title":"配置说明","description":"","frontmatter":{"outline":[2,3]},"headers":[],"relativePath":"v2/zh_cn/micro_app_dev/config.md","filePath":"v2/zh_cn/micro_app_dev/config.md","lastUpdated":1771126656000}'),t={name:"v2/zh_cn/micro_app_dev/config.md"},e=i(`<h1 id="配置说明" tabindex="-1">配置说明 <a class="header-anchor" href="#配置说明" aria-label="Permalink to &quot;配置说明&quot;">​</a></h1><p>微应用包含两个主要配置文件：<code>app.config.js</code> 和 <code>components.config.js</code>。</p><h2 id="应用配置-app-config-js" tabindex="-1">应用配置 (app.config.js) <a class="header-anchor" href="#应用配置-app-config-js" aria-label="Permalink to &quot;应用配置 (app.config.js)&quot;">​</a></h2><p>定义微应用的基础信息、权限和国际化支持。</p><h3 id="基础配置" tabindex="-1">基础配置 <a class="header-anchor" href="#基础配置" aria-label="Permalink to &quot;基础配置&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td><code>author</code></td><td>string</td><td>✅</td><td>作者标识，用于生成组件标签名前缀，不能含特殊符号</td></tr><tr><td><code>microAppId</code></td><td>string</td><td>✅</td><td>应用唯一标识，格式为 <code>作者-应用名</code></td></tr><tr><td><code>version</code></td><td>string</td><td>✅</td><td>版本号，遵循语义化版本规范</td></tr><tr><td><code>entry</code></td><td>string</td><td>✅</td><td>入口文件路径，如 <code>&#39;main.js&#39;</code></td></tr><tr><td><code>icon</code></td><td>string</td><td>✅</td><td>应用图标文件名（位于 public 目录）</td></tr></tbody></table><h3 id="完整示例" tabindex="-1">完整示例 <a class="header-anchor" href="#完整示例" aria-label="Permalink to &quot;完整示例&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 基础信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  author: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hslr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  microAppId: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hslr-weather&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  version: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1.0.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  entry: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;main.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  icon: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;logo.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 国际化信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  appInfo: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;zh-CN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      appName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;天气&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      description: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;查看各地天气数据&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      networkDescription: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;首次安装后下载必要的配置数据&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;en-US&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      appName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Weather&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      description: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;View weather data worldwide&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      networkDescription: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Download necessary config data on first run&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 权限配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  permissions: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;network&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 网络权限</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;dataNode&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // 数据节点权限</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 网络域名白名单</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  networkDomains: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;api.example.com&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 数据节点配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  dataNodes: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      scope: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;app&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      isPublic: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="国际化支持" tabindex="-1">国际化支持 <a class="header-anchor" href="#国际化支持" aria-label="Permalink to &quot;国际化支持&quot;">​</a></h3><p>语言标识符遵循 <a href="https://www.rfc-editor.org/info/bcp47" target="_blank" rel="noreferrer">IETF BCP 47</a> 标准：</p><ul><li><code>zh-CN</code> - 简体中文</li><li><code>en-US</code> - 英语</li><li><code>zh-TW</code> - 繁体中文</li><li><code>ja-JP</code> - 日语</li><li><code>ko-KR</code> - 韩语</li></ul><h2 id="组件配置-components-config-js" tabindex="-1">组件配置 (components.config.js) <a class="header-anchor" href="#组件配置-components-config-js" aria-label="Permalink to &quot;组件配置 (components.config.js)&quot;">​</a></h2><p>注册页面和小部件组件。</p><h3 id="完整示例-1" tabindex="-1">完整示例 <a class="header-anchor" href="#完整示例-1" aria-label="Permalink to &quot;完整示例&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HelloWorldConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../src/components/widgetConfig.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HelloWorldWidget </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../src/components/widget.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 页面注册</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  pages: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;hello-world-config&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      component: HelloWorldConfig,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      background: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;linear-gradient(135deg, #667eea 0%, #764ba2 100%)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      headerTextColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#ffffff&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 小部件注册</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  widgets: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;hello-world-widget&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      component: HelloWorldWidget,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      configComponentName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hello-world-config&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      size: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1x1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1x2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2x1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2x2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2x4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1xfull&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      background: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="页面组件类型" tabindex="-1">页面组件类型 <a class="header-anchor" href="#页面组件类型" aria-label="Permalink to &quot;页面组件类型&quot;">​</a></h3><p>微应用的页面组件分为两种类型：</p><table tabindex="0"><thead><tr><th>类型</th><th>标识</th><th>说明</th></tr></thead><tbody><tr><td><strong>小部件配置组件</strong></td><td><code>config</code></td><td>会在添加小部件时作为引导添加页面打开，或通过小部件右键菜单「小部件配置」打开</td></tr><tr><td><strong>首页面组件</strong></td><td><code>main</code></td><td>会在同一微应用列表处统一入口打开（暂未实现统一入口），或在微应用内任意处使用 <code>this.api.window.open(&quot;主页面名称&quot;)</code> 打开</td></tr></tbody></table><p>可通过 <code>type</code> 字段指定页面类型，默认为 <code>config</code>。</p><h3 id="页面配置参数" tabindex="-1">页面配置参数 <a class="header-anchor" href="#页面配置参数" aria-label="Permalink to &quot;页面配置参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td><code>component</code></td><td>class</td><td>✅</td><td>页面组件类</td></tr><tr><td><code>background</code></td><td>string</td><td>-</td><td>背景样式（CSS background 属性）</td></tr><tr><td><code>headerTextColor</code></td><td>string</td><td>-</td><td>头部文字颜色</td></tr><tr><td><code>type</code></td><td>string</td><td>-</td><td>页面类型，可选值：<code>main</code>（主页面）、<code>config</code>（小部件配置页面），默认为 <code>config</code></td></tr></tbody></table><h3 id="小部件配置参数" tabindex="-1">小部件配置参数 <a class="header-anchor" href="#小部件配置参数" aria-label="Permalink to &quot;小部件配置参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td><code>component</code></td><td>class</td><td>✅</td><td>小部件组件类</td></tr><tr><td><code>configComponentName</code></td><td>string</td><td>-</td><td>对应的配置页面名称（配置后会在添加组件、小部件的右键菜单打开页面配置组件的窗口）</td></tr><tr><td><code>size</code></td><td>string[]</td><td>✅</td><td>支持的网格尺寸</td></tr><tr><td><code>background</code></td><td>string</td><td>-</td><td>默认背景颜色</td></tr></tbody></table><h2 id="支持的网格尺寸" tabindex="-1">支持的网格尺寸 <a class="header-anchor" href="#支持的网格尺寸" aria-label="Permalink to &quot;支持的网格尺寸&quot;">​</a></h2><table tabindex="0"><thead><tr><th>尺寸</th><th>说明（行x列）</th><th>适用场景</th></tr></thead><tbody><tr><td><code>1x1</code></td><td>1格×1格</td><td>迷你组件</td></tr><tr><td><code>1x2</code></td><td>1格×2格</td><td>纵向窄卡片</td></tr><tr><td><code>2x1</code></td><td>2格×1格</td><td>横向窄卡片</td></tr><tr><td><code>2x2</code></td><td>2格×2格</td><td>标准卡片</td></tr><tr><td><code>2x4</code></td><td>2格×4格</td><td>大卡片</td></tr><tr><td><code>1xfull</code></td><td>1格×全屏宽</td><td>全屏宽度展示</td></tr></tbody></table><h2 id="命名规范" tabindex="-1">命名规范 <a class="header-anchor" href="#命名规范" aria-label="Permalink to &quot;命名规范&quot;">​</a></h2><ul><li><code>microAppId</code>：使用 <code>作者-功能</code> 格式，如 <code>hslr-weather</code></li><li>页面名称：使用小写字母和连字符，如 <code>weather-config</code></li><li>小部件名称：使用小写字母和连字符，如 <code>weather-widget</code></li></ul>`,27),l=[e];function p(h,d,r,k,c,E){return n(),a("div",null,l)}const g=s(t,[["render",p]]);export{b as __pageData,g as default};
